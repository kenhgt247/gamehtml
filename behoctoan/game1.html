<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>B√© Th√¥ng Minh ‚Äì V∆∞∆°ng Qu·ªëc To√°n H·ªçc | Asking Kids</title>

<style>
/* ==== GI·ªÆ NGUY√äN CSS ‚Äì CH·ªà R√öT G·ªåN COMMENT ==== */
@import url('https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600;700&display=swap');
:root{
--blue:#3B82F6;--pink:#EC4899;--green:#22C55E;--yellow:#EAB308;
}
body{
font-family:'Quicksand',sans-serif;
background:#FDFCF0;
display:flex;justify-content:center;align-items:center;
height:100vh;margin:0;
}
#game-app{
background:#fff;
width:95%;max-width:800px;
border-radius:40px;
padding:30px;
box-shadow:0 20px 50px rgba(0,0,0,.1);
text-align:center;
}
.screen{display:none}
.screen.active{display:flex;flex-direction:column;align-items:center}
.board{
border:5px dashed #e5e7eb;
border-radius:30px;
padding:25px;
min-height:220px;
display:flex;justify-content:center;align-items:center;gap:15px;flex-wrap:wrap
}
.emoji{font-size:4rem}
.options-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:15px;width:100%;max-width:500px}
.btn{
border:none;border-radius:30px;
font-size:2.2rem;
padding:18px;
cursor:pointer;
background:#fff;
border:4px solid #e5e7eb;
font-weight:700
}
.btn:hover{border-color:var(--blue)}
.btn-start{
background:var(--green);
color:#fff;
padding:22px 55px;
font-size:1.8rem;
}
#feedback{font-size:1.6rem;font-weight:800;color:var(--green);height:40px}
</style>
</head>

<body>

<div id="game-app">

<!-- START -->
<div id="screen-start" class="screen active">
<h1 style="color:#3B82F6;font-size:3rem">B√â TH√îNG MINH</h1>
<h2 style="color:#EC4899">V∆Ø∆†NG QU·ªêC TO√ÅN H·ªåC</h2>
<p>H·ªçc to√°n th·∫≠t vui c√πng Asking Kids</p>
<button id="btn-play" class="btn btn-start">B·∫ÆT ƒê·∫¶U üöÄ</button>
</div>

<!-- PLAY -->
<div id="screen-playing" class="screen">
<h2 id="question-text"></h2>
<div id="board" class="board"></div>
<div id="options-grid" class="options-grid"></div>
<div id="feedback"></div>
</div>

<!-- WIN -->
<div id="screen-win" class="screen">
<h1 style="color:var(--yellow)">GI·ªéI QU√Å!</h1>
<p>B√© ƒë√£ ho√†n th√†nh t·∫•t c·∫£ th·ª≠ th√°ch</p>
<button id="btn-replay" class="btn btn-start" style="background:var(--pink)">CH∆†I L·∫†I üîÑ</button>
</div>

</div>

<script>
/* ===== LOGIC GAME ‚Äì ƒê√É CHU·∫®N H√ìA ===== */

const LEVELS=[
{type:'COUNT',range:5},
{type:'COUNT',range:10},
{type:'ADD',range:5},
{type:'ADD',range:10},
{type:'SUB',range:5},
{type:'MIXED',range:10}
];

const ICONS=['üçé','üê∂','‚≠ê','üéà','üê±','üçì','üöó','üêº'];
const PRAISE=[
"Gi·ªèi l·∫Øm!",
"L√†m ƒë√∫ng r·ªìi!",
"Tuy·ªát v·ªùi!",
"Con r·∫•t th√¥ng minh!",
"Xu·∫•t s·∫Øc!"
];

let level=0;
let question=null;

function show(id){
document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));
document.getElementById(id).classList.add('active');
}

function makeQuestion(){
let l=LEVELS[level];
let type=l.type==='MIXED'?['COUNT','ADD','SUB'][Math.floor(Math.random()*3)]:l.type;
let icon=ICONS[Math.floor(Math.random()*ICONS.length)];
let q={type,icon};

if(type==='COUNT'){
q.n1=Math.floor(Math.random()*l.range)+1;
q.correct=q.n1;
q.text="C√≥ t·∫•t c·∫£ bao nhi√™u h√¨nh?";
}
if(type==='ADD'){
let a=Math.floor(Math.random()*(l.range-1))+1;
let b=Math.floor(Math.random()*(l.range-a))+1;
q.n1=a;q.n2=b;q.correct=a+b;q.op='+';
q.text=`${a} c·ªông ${b} b·∫±ng bao nhi√™u?`;
}
if(type==='SUB'){
let a=Math.floor(Math.random()*(l.range-1))+2;
let b=Math.floor(Math.random()*(a-1))+1;
q.n1=a;q.n2=b;q.correct=a-b;q.op='-';
q.text=`${a} tr·ª´ ${b} b·∫±ng bao nhi√™u?`;
}

let opts=new Set([q.correct]);
while(opts.size<4){
let v=q.correct+Math.floor(Math.random()*5)-2;
if(v>0 && v<=20)opts.add(v);
}
q.options=[...opts].sort(()=>Math.random()-.5);
return q;
}

function render(){
document.getElementById('question-text').innerText=question.text;
document.getElementById('feedback').innerText="";
let board=document.getElementById('board');
let grid=document.getElementById('options-grid');
board.innerHTML="";grid.innerHTML="";

for(let i=0;i<question.n1;i++){
let e=document.createElement('span');
e.className='emoji';e.innerText=question.icon;
board.appendChild(e);
}

if(question.op){
let s=document.createElement('span');
s.innerText=question.op;s.style.fontSize="3rem";
board.appendChild(s);
for(let i=0;i<question.n2;i++){
let e=document.createElement('span');
e.className='emoji';e.innerText=question.icon;
board.appendChild(e);
}
}

question.options.forEach(o=>{
let b=document.createElement('button');
b.className='btn';
b.innerText=o;
b.onclick=()=>check(o);
grid.appendChild(b);
});
}

function check(val){
if(val===question.correct){
document.getElementById('feedback').innerText=PRAISE[Math.floor(Math.random()*PRAISE.length)];
setTimeout(()=>{
level++;
if(level<LEVELS.length){
question=makeQuestion();
render();
}else show('screen-win');
},1200);
}else{
document.getElementById('feedback').innerText="Ch∆∞a ƒë√∫ng, th·ª≠ l·∫°i nh√©!";
}
}

document.getElementById('btn-play').onclick=()=>{
level=0;
question=makeQuestion();
show('screen-playing');
render();
};
document.getElementById('btn-replay').onclick=()=>{
level=0;
question=makeQuestion();
show('screen-playing');
render();
};
</script>

</body>
</html>
